# 数据库课本第七章

***

#### 第一题
　　这是由目前的硬件状况制约的，一级储存的速度很高极大提高数据库性能， 二级储存容量大，用于一般的大量数据的存放，也常常用于备份数据的存放，容量大价格低。现在的三级储存貌似用得比较少，但是多一个备份的地方，光盘磁带容量太小，被硬盘代替。

#### 第二题
　　数据存在硬盘中，由DBMS的缓冲管理器按需求将其中的数据调入内存供数据库使用，缓冲区有自动的新旧文件更替机制，将经常访问的数据放在内存中。   这是为了加速数据库的运行，硬盘IO性能比内存低了几个数量级。

#### 第三题
　　一个文件一个表，例外也可以。一般由操作系统管理，数据库只要保存数据到文件即可，但是大型数据库可以自己管理文件，只要系统开辟一个大空间给它就行。

#### 第四题
　　首先是一个文件只能存放一个表，对于可变长度的属性例如varchar不能较好支持。不知道这指的策略是什么？ 但是维护起来就像是数组吧。

#### 第五题
　　为了解决第四题中订场记录的不足之处。 删除的时候指向它的两个收尾指针被数据清除，它左侧的数据全部右移。插入的话只要左边还有空间，分配两个首尾指针给它并在那里面写入数据，基本上就像一个元素长度可变的数组吧。

#### 第六题
　　常用的组织方式有：堆文件组织、顺序文件组织、多表聚集文件组织、B+数目文件组织、散列文件组织。

#### 第七题
　　通常一个表使用一个单独的文件，每条记录放哪都可以， 就像一个集合，无序放入数据。

#### 第八题
　　文件中记录按照某个搜索码的顺序存放。  好处是高速顺序遍历整个表，缺点是插入和删除比较麻烦而且操作多了会影响效率要对它进行可怕的文件重组。  删除操作等同于指针链表，插入的话也是一样，唯一不同的是那个地方可能放不下要插入的数据（非定长），要申请一个益处块分担一部分数据。

#### 第九题
　　聚集索引是指针对每一个文件记录都有一个索引。 多表聚集索引是把多个表主码相同的记录相邻放置。好处是在对那个主码进行表连接操作速度极大提升，缺点是除了上面那个操作，反倒是弄巧成拙性能大减。

#### 第十题
 　　提高访问记录的速度，否则每次都要进行遍历。顺序索引是指记录基于搜索码的顺序排列, 散列索引是将搜索码及其相应的文件记录指针组织成散列文件结构。建立了主索引的索引问及那被称为索引顺序文件。
　　
#### 第十一题
　　就是数据库很大的话，索引可能也会很大，所以我们在索引上也加上一个索引，以此类推。  结构的话倒是很像一棵树，例如B+树本身也就是一个多级索引的经典例子。
　　
#### 第十二题
　　文字叙述太长了，基本是步骤。课本P245上面有详细的步骤说明，不难理解。

#### 第十三题
　　B+树是一个多层索引的产物，拥有平衡树的好处，叶节点是指向文件的指针。它具有良好的查询、插入、删除性能。但是有可能会导致一些空间浪费。因为有一些节点可能是半空的。
　　
#### 第十四题
　　每非叶节点有n/2到n个孩子节点，叶子结点存放指针可用数目不同，非叶结点指针指向孩子，叶子节点指向的是数据位置。

#### 第十五题
　　文字叙述太长了，基本是步骤。课本P249上面有详细的步骤说明，不难理解。

#### 第十六题
　　B+树索引的核心是指向文件中的指针，B+树文件组织叶子节点中不是文件指针而是真实的文件记录。  两者区别在于B+树所维护的东西不同。

#### 第十七题
　　不能聚集，分配平均。当然最好性能比较良好。

#### 第十八题
　　散列索引是将搜索码及其相应的文件记录指针组织成散列文件结构。   采用散列函数的方法，和数据结构中的散列表操作一模一样，不再叙述。

#### 第十九题
　　散列索引的核心是指向文件中的指针，散列文件组织散列的结果放的不是文件指针而是真实的文件，  前者访问的是指针桶，后者访问的是磁盘块。

#### 第二十题
　　散列拥有对主码的常数时间定位非常稳定！  但是不支持范围查询，静态散列可能对空间有不小的浪费。 B+树比较中庸一点，但是对于插入删除查询都有着令人满意的性能。

#### 第二十一题
　　为一个给定的逻辑数据模型选取一个最适合应用环境的物理结构的过程就是数据库的物理设计。 它的目的是：提高性能、有效利用空间、在性能和代价之间做出一个最优选择。

#### 第二十二题
　　存储结构是文件内部的管理，包括索引等还是比较复杂的完全有数据库管理。  文件由操作系统管理。它们的关系式相辅相成，在数据库层面上和操作系统层面上以不同的方式管理数据， 但是，有些数据库单独管理空间干了操作系统的活。

#### 第二十三题
　　主要是指如何建立索引还有和索引相关的设计，例如要多少索引、设置哪些索引？ 特点是：存取路径和数据是分离的、可以由用户创建删除也可以由系统动态删除创建、有多种物理组织方式例如散列和B+树等。
　　
#### 第二十四题
　　应用的需求：要干什么？ 性能要求是什么？各种操作频率？
　　数据特征： 记录数据本身的属性，定长还是变长？个数呢？会不会出现超长属性类似text文本？
　　运行环境：什么操作系统？  硬件条件是什么？ 类似文件格式的限制？