--第一题
use ShiYan;
INSERT S VALUES ('S6', '华誉', 40, '广州', '02085268888');
--第二题
INSERT J VALUES ('J8', '传感器厂', NULL);
--第三题
ALTER TABLE S ADD zong int;
UPDATE S SET zong=(SELECT sum(QTY) FROM SPJ WHERE SPJ.SNO=S.SNO GROUP BY SPJ.SNO);
--第四题
UPDATE P SET PCOLOR='绿',WEIGHT=60 WHERE PNO='P6';
--第五题
UPDATE TOP(4) SPJ SET QTY='500';
--第六题
UPDATE S SET STATUS=STATUS+100 WHERE CITY LIKE'%京%' OR CITY LIKE'%津%';
--第七题
UPDATE SPJ SET QTY='800' FROM SPJ,J WHERE SPJ.JNO=J.JNO AND SNO='S1' AND JNAME='一汽';
--第八题
UPDATE P SET PCOLOR='浅红' WHERE PCOLOR='红';
--第九题
UPDATE SPJ SET SNO='S3' WHERE SNO='S5' AND JNO='J4' AND PNO='P6';
--第十题
ALTER TABLE SPJ ADD SDATE datetime;
UPDATE SPJ SET SDATE=getdate();
--第十一题
DELETE FROM S WHERE CITY='广州';
--第十二题
DELETE FROM SPJ WHERE PNO IN (SELECT PNO FROM P WHERE PNAME LIKE'螺%');
DELETE FROM P WHERE PNAME LIKE'螺%';
--第十三题
DELETE FROM SPJ WHERE SNO='S3' AND JNO IN (SELECT a.JNO FROM J a WHERE JNAME='三建')
AND PNO IN (SELECT b.PNO FROM P b WHERE JNAME='螺母' OR JNAME='螺丝刀');
DELETE FROM SPJ WHERE SNO='S4' AND JNO IN (SELECT a.JNO FROM J a WHERE JNAME='三建')
AND PNO IN (SELECT b.PNO FROM P b WHERE JNAME='螺母' OR JNAME='螺丝刀');
 